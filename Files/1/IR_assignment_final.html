<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module IR_assignment_final</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong>IR_assignment_final</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:f%3A%5Cir%20project%5Cir_assignment_final.py">f:\ir project\ir_assignment_final.py</a></font></td></tr></table>
    <p><tt>IR&nbsp;Assignment-1<br>
"Songle"&nbsp;-&nbsp;A&nbsp;Song&nbsp;Based&nbsp;Information&nbsp;Retrieval&nbsp;System&nbsp;<br>
Authors:&nbsp;Dhruv&nbsp;Shah<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vedant&nbsp;Goyal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ashish&nbsp;Gupta</tt></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="numpy.linalg.html">numpy.linalg</a><br>
</td><td width="25%" valign=top><a href="numpy.html">numpy</a><br>
</td><td width="25%" valign=top><a href="operator.html">operator</a><br>
</td><td width="25%" valign=top></td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#eeaa77">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Functions</strong></big></font></td></tr>
    
<tr><td bgcolor="#eeaa77"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl><dt><a name="-get_songs_based_on_query"><strong>get_songs_based_on_query</strong></a>(track)</dt><dd><tt>This&nbsp;function&nbsp;prints&nbsp;all&nbsp;the&nbsp;output&nbsp;songs&nbsp;based&nbsp;on&nbsp;the&nbsp;query&nbsp;according&nbsp;<br>
to&nbsp;their&nbsp;trackIds&nbsp;which&nbsp;are&nbsp;passed&nbsp;to&nbsp;the&nbsp;function</tt></dd></dl>
 <dl><dt><a name="-get_songs_given_query"><strong>get_songs_given_query</strong></a>()</dt><dd><tt>This&nbsp;function&nbsp;accepts&nbsp;a&nbsp;song&nbsp;query&nbsp;and&nbsp;creates&nbsp;a&nbsp;list&nbsp;str&nbsp;of&nbsp;all&nbsp;the&nbsp;words&nbsp;present<br>
in&nbsp;the&nbsp;query&nbsp;.<br>
&nbsp;<br>
store&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;which&nbsp;stores&nbsp;the&nbsp;words&nbsp;from&nbsp;the&nbsp;query&nbsp;as&nbsp;keys&nbsp;and&nbsp;the&nbsp;corresponding<br>
occurences&nbsp;of&nbsp;those&nbsp;words&nbsp;from&nbsp;the&nbsp;query.<br>
&nbsp;<br>
flag&nbsp;integer&nbsp;tells&nbsp;if&nbsp;the&nbsp;query&nbsp;word&nbsp;is&nbsp;present&nbsp;in&nbsp;the&nbsp;dictionary&nbsp;or&nbsp;not.<br>
flag&nbsp;is&nbsp;zero&nbsp;if&nbsp;all&nbsp;words&nbsp;of&nbsp;the&nbsp;query&nbsp;not&nbsp;present&nbsp;in&nbsp;the&nbsp;dictionary.<br>
&nbsp;<br>
query&nbsp;stores&nbsp;the&nbsp;words&nbsp;of&nbsp;the&nbsp;query&nbsp;whereas&nbsp;query_list&nbsp;stores&nbsp;the&nbsp;occurences&nbsp;of&nbsp;those&nbsp;words.<br>
&nbsp;<br>
vector_list&nbsp;is&nbsp;a&nbsp;matrix&nbsp;formed&nbsp;according&nbsp;to&nbsp;the&nbsp;Vector&nbsp;Space&nbsp;Model.<br>
It&nbsp;stores&nbsp;only&nbsp;those&nbsp;words&nbsp;as&nbsp;columns&nbsp;which&nbsp;are&nbsp;present&nbsp;in&nbsp;the&nbsp;query&nbsp;and&nbsp;the&nbsp;<br>
rows&nbsp;as&nbsp;docIds&nbsp;and&nbsp;the&nbsp;tf-idfs&nbsp;of&nbsp;those&nbsp;words&nbsp;in&nbsp;the&nbsp;cells&nbsp;corresponding&nbsp;to&nbsp;each&nbsp;document.<br>
&nbsp;<br>
the&nbsp;for&nbsp;loop&nbsp;calculates&nbsp;the&nbsp;idf&nbsp;for&nbsp;each&nbsp;document&nbsp;and&nbsp;tf&nbsp;for&nbsp;each&nbsp;term&nbsp;and&nbsp;then&nbsp;<br>
multiply&nbsp;both&nbsp;to&nbsp;calculate&nbsp;the&nbsp;tf-idf&nbsp;which&nbsp;will&nbsp;then&nbsp;be&nbsp;stored&nbsp;in&nbsp;the&nbsp;corresponding&nbsp;<br>
cells&nbsp;of&nbsp;the&nbsp;vector_list&nbsp;matrix.<br>
&nbsp;<br>
Now&nbsp;the&nbsp;cosine&nbsp;similarity&nbsp;is&nbsp;calculated&nbsp;between&nbsp;the&nbsp;query&nbsp;and&nbsp;the&nbsp;vectors&nbsp;(rows&nbsp;in&nbsp;vector_list&nbsp;matrix)<br>
to&nbsp;find&nbsp;which&nbsp;documents/tracks&nbsp;are&nbsp;the&nbsp;most&nbsp;nearest&nbsp;to&nbsp;the&nbsp;given&nbsp;query.<br>
This&nbsp;is&nbsp;now&nbsp;sorted&nbsp;and&nbsp;stored&nbsp;in&nbsp;the&nbsp;sorted_final_dict&nbsp;which&nbsp;contains&nbsp;the&nbsp;keys&nbsp;as&nbsp;trackIds&nbsp;<br>
and&nbsp;values&nbsp;as&nbsp;the&nbsp;cosine&nbsp;similarity&nbsp;of&nbsp;the&nbsp;vector&nbsp;with&nbsp;query&nbsp;words.<br>
&nbsp;<br>
Now&nbsp;the&nbsp;top&nbsp;10&nbsp;query&nbsp;related&nbsp;songs&nbsp;are&nbsp;returned&nbsp;and&nbsp;presented&nbsp;to&nbsp;the&nbsp;user.<br>
&nbsp;<br>
Finally,&nbsp;the&nbsp;top&nbsp;most&nbsp;10&nbsp;searched&nbsp;songs&nbsp;are&nbsp;also&nbsp;returned&nbsp;to&nbsp;the&nbsp;user&nbsp;as&nbsp;an&nbsp;addition<br>
to&nbsp;the&nbsp;previous&nbsp;result.</tt></dd></dl>
 <dl><dt><a name="-get_top_songs"><strong>get_top_songs</strong></a>(track)</dt><dd><tt>This&nbsp;function&nbsp;prints&nbsp;the&nbsp;most&nbsp;searched&nbsp;top&nbsp;10&nbsp;songs.</tt></dd></dl>
 <dl><dt><a name="-get_track_name"><strong>get_track_name</strong></a>(id)</dt><dd><tt>This&nbsp;function&nbsp;returns&nbsp;the&nbsp;track&nbsp;name&nbsp;corresponding&nbsp;to&nbsp;the&nbsp;track&nbsp;id</tt></dd></dl>
 <dl><dt><a name="-main"><strong>main</strong></a>()</dt><dd><tt>This&nbsp;is&nbsp;a&nbsp;python&nbsp;program&nbsp;for&nbsp;a&nbsp;text&nbsp;based&nbsp;information&nbsp;retrieval&nbsp;system.<br>
Here&nbsp;the&nbsp;user&nbsp;will&nbsp;enter&nbsp;a&nbsp;query&nbsp;for&nbsp;searching&nbsp;a&nbsp;song&nbsp;and&nbsp;will&nbsp;receive&nbsp;the&nbsp;top&nbsp;10&nbsp;song&nbsp;results<br>
pertaining&nbsp;to&nbsp;that&nbsp;query&nbsp;and&nbsp;will&nbsp;also&nbsp;receive&nbsp;top&nbsp;10&nbsp;most&nbsp;searched&nbsp;song&nbsp;recommendations.&nbsp;<br>
&nbsp;<br>
&nbsp;<br>
This&nbsp;para&nbsp;opens&nbsp;the&nbsp;words&nbsp;text&nbsp;file&nbsp;in&nbsp;read&nbsp;only&nbsp;format&nbsp;containing&nbsp;all&nbsp;the&nbsp;<br>
words&nbsp;present&nbsp;in&nbsp;the&nbsp;song&nbsp;dataset.&nbsp;<br>
The&nbsp;split()&nbsp;function&nbsp;converts&nbsp;all&nbsp;the&nbsp;words&nbsp;into&nbsp;a&nbsp;elements&nbsp;of&nbsp;the&nbsp;list&nbsp;tokens.&nbsp;<br>
&nbsp;<br>
This&nbsp;para&nbsp;opens&nbsp;the&nbsp;tracks&nbsp;text&nbsp;file&nbsp;in&nbsp;read&nbsp;only&nbsp;format&nbsp;containing&nbsp;the&nbsp;trackID<br>
and&nbsp;the&nbsp;occurences&nbsp;of&nbsp;that&nbsp;word&nbsp;in&nbsp;the&nbsp;track.&nbsp;&nbsp;<br>
&nbsp;<br>
num_of_tracks&nbsp;stores&nbsp;the&nbsp;total&nbsp;number&nbsp;of&nbsp;documents&nbsp;present&nbsp;in&nbsp;the&nbsp;trackset<br>
top_songs&nbsp;is&nbsp;a&nbsp;list&nbsp;containing&nbsp;the&nbsp;top&nbsp;most&nbsp;searched&nbsp;songs&nbsp;&nbsp;<br>
&nbsp;<br>
main_dict&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;dictionary&nbsp;which&nbsp;stores&nbsp;all&nbsp;the&nbsp;words&nbsp;as&nbsp;keys&nbsp;and&nbsp;<br>
the&nbsp;docIDs&nbsp;and&nbsp;the&nbsp;occurences&nbsp;of&nbsp;the&nbsp;words&nbsp;in&nbsp;those&nbsp;docIDs&nbsp;<br>
&nbsp;<br>
This&nbsp;is&nbsp;similar&nbsp;to&nbsp;an&nbsp;inverted&nbsp;index&nbsp;containing&nbsp;docIDs&nbsp;in&nbsp;primary&nbsp;posting&nbsp;list&nbsp;and&nbsp;<br>
the&nbsp;occurences&nbsp;of&nbsp;the&nbsp;word&nbsp;in&nbsp;that&nbsp;doc&nbsp;as&nbsp;a&nbsp;secondary&nbsp;posting&nbsp;list.<br>
&nbsp;<br>
doc&nbsp;contains&nbsp;the&nbsp;info&nbsp;of&nbsp;a&nbsp;single&nbsp;track.<br>
&nbsp;<br>
track_name&nbsp;contains&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;track.<br>
&nbsp;<br>
word_id&nbsp;contains&nbsp;the&nbsp;id&nbsp;of&nbsp;the&nbsp;word&nbsp;and&nbsp;count&nbsp;stores&nbsp;the&nbsp;occurences&nbsp;of&nbsp;that&nbsp;word&nbsp;for&nbsp;<br>
a&nbsp;particular&nbsp;track<br>
&nbsp;<br>
sum&nbsp;is&nbsp;the&nbsp;total&nbsp;number&nbsp;of&nbsp;all&nbsp;word&nbsp;occurences&nbsp;in&nbsp;a&nbsp;track<br>
&nbsp;<br>
sum1&nbsp;is&nbsp;the&nbsp;total&nbsp;number&nbsp;of&nbsp;all&nbsp;word&nbsp;occurences&nbsp;in&nbsp;the&nbsp;whole&nbsp;dictionary<br>
&nbsp;<br>
This&nbsp;loop&nbsp;stores&nbsp;the&nbsp;total&nbsp;words&nbsp;in&nbsp;the&nbsp;docs&nbsp;in&nbsp;a&nbsp;list&nbsp;form&nbsp;and&nbsp;finds&nbsp;their&nbsp;counts&nbsp;for<br>
storing&nbsp;the&nbsp;term&nbsp;frequency.</tt></dd></dl>
</td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>count</strong> = 1<br>
<strong>dataset</strong> = 'the,you,to,and,a,me,it,not,in,my,is,of,your,that...er,motivo,bake,insist,wel,santo,pe,gee,colleg,kad'<br>
<strong>doc</strong> = ['TRZZZYX128F92D32C6', '681124', '1:4', '2:18', '4:3', '5:6', '6:9', '7:1', '8:5', '9:1', '10:12', '11:2', '12:9', '13:5', '15:4', '17:2', '18:4', '19:4', '21:2', '22:3', ...]<br>
<strong>docsize</strong> = 146<br>
<strong>file</strong> = &lt;_io.TextIOWrapper name='words.txt' mode='r' encoding='cp1252'&gt;<br>
<strong>i</strong> = 145<br>
<strong>j</strong> = 210518<br>
<strong>main_dict</strong> = {0: {}, 1: {0: 6, 1: 10, 2: 28, 3: 5, 4: 4, 5: 16, 7: 4, 8: 39, 9: 6, 10: 14, ...}, 2: {0: 4, 2: 15, 3: 4, 5: 4, 7: 11, 8: 30, 9: 9, 10: 20, 11: 7, 12: 3, ...}, 3: {0: 2, 1: 17, 2: 2, 3: 3, 7: 2, 8: 10, 10: 2, 11: 3, 12: 6, 13: 14, ...}, 4: {0: 2, 1: 8, 2: 12, 3: 2, 4: 5, 5: 1, 7: 7, 8: 10, 10: 7, 11: 1, ...}, 5: {0: 5, 1: 2, 2: 22, 3: 1, 4: 7, 5: 3, 7: 3, 8: 28, 9: 3, 10: 6, ...}, 6: {0: 3, 1: 2, 2: 2, 3: 11, 4: 2, 5: 5, 7: 5, 8: 21, 9: 4, 10: 2, ...}, 7: {0: 1, 1: 1, 2: 2, 4: 4, 5: 5, 8: 1, 9: 4, 10: 4, 11: 1, 12: 2, ...}, 8: {0: 1, 1: 3, 2: 4, 5: 3, 7: 1, 8: 20, 9: 3, 10: 2, 11: 13, 13: 1, ...}, 9: {1: 2, 2: 2, 3: 4, 4: 1, 5: 4, 7: 3, 8: 11, 9: 5, 11: 1, 12: 2, ...}, ...}<br>
<strong>num_of_tracks</strong> = 210519<br>
<strong>splitdoc</strong> = ['4845', '1']<br>
<strong>sum</strong> = 297<br>
<strong>sum1</strong> = 44846399<br>
<strong>tokens</strong> = ['the', 'you', 'to', 'and', 'a', 'me', 'it', 'not', 'in', 'my', 'is', 'of', 'your', 'that', 'do', 'on', 'are', 'we', 'am', 'will', ...]<br>
<strong>top_songs</strong> = {0: 0, 1: 0, 2: 0, 3: 0, 4: 0, 5: 0, 6: 0, 7: 0, 8: 0, 9: 0, ...}<br>
<strong>total_words_in_a_doc</strong> = [103, 226, 421, 139, 115, 160, 21, 172, 650, 116, 398, 203, 161, 349, 29, 151, 206, 815, 105, 189, ...]<br>
<strong>track_name</strong> = ['TRAAAAV128F421A322', 'TRAAABD128F429CF47', 'TRAAAED128E0783FAB', 'TRAAAEF128F4273421', 'TRAAAEW128F42930C0', 'TRAAAFD128F92F423A', 'TRAAAGF12903CEC202', 'TRAAAHJ128F931194C', 'TRAAAHZ128E0799171', 'TRAAAJG128F9308A25', 'TRAAAOF128F429C156', 'TRAAARJ128F9320760', 'TRAAAUC128F428716F', 'TRAAAZF12903CCCF6B', 'TRAABEV12903CC53A4', 'TRAABHB12903CAFC2F', 'TRAABHC128F933A3F8', 'TRAABIG128F9356C56', 'TRAABJS128F9325C99', 'TRAABJV128F1460C49', ...]<br>
<strong>tracks</strong> = &lt;_io.TextIOWrapper name='tracks.txt' mode='r' encoding='cp1252'&gt;<br>
<strong>trackset</strong> = ['TRAAAAV128F421A322,4623710,1:6,2:4,3:2,4:2,5:5,6...,3717:1,3851:1,4322:1,4382:1,4613:1,4713:1,4906:1', 'TRAAABD128F429CF47,6477168,1:10,3:17,4:8,5:2,6:2...4:2,472:3,589:1,843:2,1038:2,1351:1,1542:2,2437:2', 'TRAAAED128E0783FAB,2516445,1:28,2:15,3:2,4:12,5:...,1325:1,1412:1,1485:1,1535:3,2143:1,2467:1,3344:1', 'TRAAAEF128F4273421,3759847,1:5,2:4,3:3,4:2,5:1,6...:1,651:1,927:1,2221:1,2261:1,2581:1,3452:1,4470:1', 'TRAAAEW128F42930C0,3783760,1:4,4:5,5:7,6:2,7:4,9...,3876:1,4180:1,4240:1,4518:1,4554:1,4639:1,4758:1', 'TRAAAFD128F92F423A,6640025,1:16,2:4,4:1,5:3,6:5,...,1646:1,1655:2,1931:1,2602:1,2627:2,2676:1,3210:2', 'TRAAAGF12903CEC202,5493388,90:1,151:1,164:1,181:...,1736:1,2145:1,2806:1,4294:1,4330:1,4502:1,4684:1', 'TRAAAHJ128F931194C,5133845,1:4,2:11,3:2,4:7,5:3,...,2172:1,2444:1,2495:1,2854:1,3158:1,3176:1,4412:1', 'TRAAAHZ128E0799171,1619153,1:39,2:30,3:10,4:10,5...,2933:1,3195:1,3612:1,3656:1,3831:1,4036:1,4135:1', 'TRAAAJG128F9308A25,8525084,1:6,2:9,5:3,6:4,7:4,8...,1496:1,1533:1,1869:1,2018:1,2207:1,2227:1,2537:1', 'TRAAAOF128F429C156,2973058,1:14,2:20,3:2,4:7,5:6...3775:4,3934:15,4182:1,4290:1,4350:1,4574:1,4890:3', 'TRAAARJ128F9320760,1422131,1:6,2:7,3:3,4:1,5:15,...,2313:8,2730:2,2802:1,2855:1,3425:1,3593:1,3681:1', 'TRAAAUC128F428716F,1849722,1:11,2:3,3:6,4:3,5:2,...571:1,623:2,656:1,753:3,799:1,926:2,1544:2,3046:2', 'TRAAAZF12903CCCF6B,1241519,1:25,2:7,3:14,4:17,5:...1571:1,1599:5,2001:1,3100:1,4382:1,4739:1,4770:12', 'TRAABEV12903CC53A4,1283157,2:1,4:1,6:1,10:1,14:2...,238:4,259:1,289:1,297:1,305:3,557:1,755:1,2704:1', 'TRAABHB12903CAFC2F,9357016,1:2,2:7,4:4,5:1,6:8,8...,3503:1,3639:1,3782:1,3890:1,4238:1,4368:1,4938:1', 'TRAABHC128F933A3F8,9857236,1:3,2:16,3:8,4:4,5:8,...,1952:1,2313:3,2822:1,3111:1,3115:1,3137:1,3603:1', 'TRAABIG128F9356C56,678806,1:28,2:77,3:31,4:41,5:...,1907:1,2009:4,2059:1,2198:2,2661:1,2678:4,4605:1', 'TRAABJS128F9325C99,5516210,1:5,2:3,3:3,4:3,5:8,7...,1085:1,1281:2,1327:2,1529:2,1642:3,2779:3,3749:3', 'TRAABJV128F1460C49,851082,1:6,2:5,3:10,4:4,5:6,6...33:1,670:3,677:1,701:1,745:1,1086:1,1365:1,1535:1', ...]<br>
<strong>word_id</strong> = 4845</td></tr></table>
</body></html>